{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\n\nconst API_KEY = \"49639271-38d2af22ba8dd6f27b20ef155\"\n\nexport async function getImagesByQuery(query) {\n  const response = await axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: true,\n    },\n  });\n\n  return response.data;\n}\n\n\n\n\n\n\n    \n","\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\" />\n          </a>\n          <ul class=\"gallery-info\">\n            <li class=\"gallery-info-item\"><b>Likes</b> ${likes}</li>\n            <li class=\"gallery-info-item\"><b>Views</b> ${views}</li>\n            <li class=\"gallery-info-item\"><b>Comments</b> ${comments}</li>\n            <li class=\"gallery-info-item\"><b>Downloads</b> ${downloads}</li>\n          </ul>\n        </li>\n      `\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  lightbox.refresh(); \n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"is-hidden\");\n}\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cpath%20fill='%23FAFAFB'%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20fill='%23FAFAFB'%20d='M6.969%206.969a.75.75%200%200%201%201.062%200L12%2010.939l3.969-3.97a.75.75%200%201%201%201.062%201.062L13.061%2012l3.97%203.969a.752.752%200%200%201-1.062%201.062L12%2013.061l-3.969%203.97a.752.752%200%200%201-1.282-.531.751.751%200%200%201%20.22-.531L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/svg%3e\"","\n// // У файлі main.js напиши всю логіку роботи додатка. \n// // Виклики нотифікацій iziToast, усі перевірки на довжину масиву \n// // в отриманій відповіді робимо саме в цьому файлі. Імпортуй в \n// // нього функції із файлів pixabay-api.js та render-functions.js \n// // та викликай їх у відповідний момент.\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconError from \"./img/error.svg\"\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const query = event.target.elements[\"search-text\"].value.trim().toLowerCase();\n\n  if (query === \"\") {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please enter a search query.\",\n      position: \"topRight\",\n      backgroundColor: \"#ef4040\",\n      titleColor: \"#fff\",\n      messageColor: \"#fff\",\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n  \n    getImagesByQuery(query)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: \"Error\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n            backgroundColor: \"#ef4040\",\n            titleColor: \"#fff\",\n            messageColor: \"#fff\",\n            iconUrl: iconError,\n          });\n          return;\n        }\n  \n    createGallery(data.hits);\n    form.reset();\n        \n      })\n      .catch(error => {\n        iziToast.error({\n          title: \"Error\",\n          message: \"Something went wrong. Please try again later!\",\n          position: \"topRight\",\n          backgroundColor: \"#ef4040\",\n          titleColor: \"#fff\",\n          messageColor: \"#fff\",\n        });\n        console.log(\"Fetch error:\", error);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  });\n  \n"],"names":["API_KEY","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","iconError","form","event","iziToast","data","error"],"mappings":"owBAGA,MAAMA,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAW5C,OAViB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,IAClB,CCZA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,0CAE1CN,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,yDAGfC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,OAIjE,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,WAAW,CACrC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,WAAW,CAClC,CC9CA,MAAegB,EAAA,23BCmBTC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAAO,cAEhE,GAAIrB,IAAU,GAAI,CAChBsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MACpB,CAAK,EACD,MACD,CAEDN,IACAC,IAEElB,EAAiBC,CAAK,EACnB,KAAKuB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,QAASH,CACrB,CAAW,EACD,MACD,CAELb,EAAciB,EAAK,IAAI,EACvBH,EAAK,MAAK,CAEd,CAAO,EACA,MAAMI,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,MACxB,CAAS,EACD,QAAQ,IAAI,eAAgBE,CAAK,CACzC,CAAO,EACA,QAAQ,IAAM,CACbN,GACR,CAAO,CACP,CAAG"}